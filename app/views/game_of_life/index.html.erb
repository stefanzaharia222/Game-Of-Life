<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game of Life</title>
    <style>
        body { font-family: Arial, sans-serif; }
        table { border-collapse: collapse; margin-top: 20px; }
        table td { width: 40px; height: 40px; text-align: center; font-size: 24px; }
    </style>
    <link rel="manifest" href="/manifest.json">
</head>
<body>
<h1>Game of Life</h1>

<%= form_with url: load_file_path, local: true, html: { multipart: true } do |form| %>
  <div>
    <%= form.label :generation_file, "Upload a file:" %>
    <%= form.file_field :generation_file %>
  </div>
  <div>
    <%= form.submit "Load File" %>
  </div>
<% end %>

<h2>Current Generation: <%= session[:generation] %></h2>
<table>
  <thead>
    <tr>
      <th colspan="<%= session[:grid_size]['cols'] %>">Grid</th>
    </tr>
  </thead>
  <tbody>
    <% session[:grid].each do |row| %>
      <tr>
        <% row.each do |cell| %>
          <td><%= cell %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<%= button_to "Calculate Next Generation", next_generation_path, method: :post %>
</body>
</html>